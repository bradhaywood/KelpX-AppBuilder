In your base app, create a "maps" function returning a hashref of your maps table

sub maps {
    {
        '/' => Wyse::Controller::Root->can('index'),
        '/login' => Wyse::Controller::Auth->can('login'),
    }
}

In your base app, put the assets and views into a lib/auto directory

ie: MyApp/lib/auto/MyApp/views
    MyApp/lib/auto/MyApp/assets

This is so File::ShareDir knows where to find them. It also means we need to change the config.pl a little.
"use" your base module

  use BaseApp;

Then set the path to your views/assets
  my $path = File::ShareDir::module_dir( 'BaseApp' );

With your assets

  middleware_init => {
        Static => {
            path => qw{^/assets/|^/apps/},
            root => $path,
        },
      
        ...
  }

The problem I've found with this is that root doesn't appear to work with array refs, so I don't think you can have more than one path like the templates.. This doesn't have to be a major issue - just stick all your assets in the same place.

Now you can tell your templates where they are, but also make sure local ones can still be found.

 # Enable UTF-8 in Template
 'Template::Toolkit' => {
      ENCODING => 'utf8',
      INCLUDE_PATH => [
        './views',
        $path . '/views'
      ],
      RELATIVE => 1,
      TAG_STYLE => 'asp',
  },

Now, in your new app, we need to include the AppBuilder stuff, so 
  
  use KelpX::AppBuilder;

Then inside your "build" function

  sub build {
      my $self = shift;
      my $r    = $self->routes;

      ## local routes
      $r->add('/home', sub { "Hey there, this is from MyApp!" });

      ## add in base app routes
      my $builder = KelpX::AppBuilder->new('BaseApp');
      $builder->load_controllers(
          'Root',
          'Auth',
      )->add_maps($r);
  }

At the moment you need to tell it what Controllers to load. Eventually AppBuilder will be clever enough to work it out :P

Now once you run your new app as normal, you should be able to view the paths from your base app!
